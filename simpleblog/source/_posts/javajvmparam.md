---
title: jvm常见内存参数配置
date: 2019-01-20 09:08:45
tags:
- java
- jvm
category:
- 代码和我
- java
---
{% asset_img javajvm.png This is javajvm %}
### 堆内存
-Xms:初始堆大小，表示java虚拟机堆区内存初始内存分配的大小，通常为操作系统可用内存的1/64大小即可

-Xmx:最大堆大小，表示java虚拟机堆区内存可被分配的最大上限，通常为操作系统可用内存的1/4大小。当内存超过1G时,通常为操作系统可用内存的1/2大小.但是开发过程中，通常会将 -Xms 与 -Xmx两个参数的配置相同的值，其目的是为了能够在java垃圾回收机制清理完堆区后不需要重新分隔计算堆区的大小而浪费资源。

一般来讲对于堆区的内存分配只需要对上述两个参数进行合理配置即可。

-XX:NewSize=n:设置年轻代大小

-XX:NewRatio=n:设置年轻代和年老代的比值。如:为3，表示年轻代与年老代比值为1：3，年轻代占整个年轻代年老代和的1/4

-XX:SurvivorRatio=n:年轻代中Eden区与两个Survivor区的比值。注意Survivor区有两个。如：3，表示Eden：Survivor=3：2，一个Survivor区占整个年轻代的1/5

-XX:PermSize:设置永久区的大小

-XX:MaxPermSize=n:设置持久代大小

-XX:TargetSurvivorRatio:设置survivior 的使用率。当达到这个空间使用率时，会将对象送入老年代。

-Xmn2g:整个堆大小=年轻代大小+年老代大小+持久代大小。持久代一般固定大小为64m,所以增大年轻代后,将会减小年老代大小。此值对系统性能影响较大,官方推荐配置为整个堆的3/8。